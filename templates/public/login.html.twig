{% extends 'base.html.twig' %}

{% block title %}{{ htmlTitle }}{% endblock %}

{% block mainTitle %}{{ mainTitle }}{% endblock %}

{% block body %}

    <div id="ctnLogin">
        <br />
        <h4 style="color: grey;">Se connecter:</h4>
        <hr>
        {% if error %}
            <div class="alert alert-danger alert-dismissable">
                <i class="fa fa-warning"></i>
                <button class="close" data-dismiss="alert" aria-hidden="true">x</button>
                User ou mot de passe incorrect :[
            </div>
        {% endif %}
       
		<form method="POST" action="{{ path('login') }}" id="formLogin">
        <div class="field">
            <label for="user" class="field-label">Username</label>
            <input type="text" id="user" name="user" class="field-input" value="{{ lastUsername }}" autofocus>
        </div>

        <div class="field">
            <label for="pwd" class="field-label">Password</label>
            <input type="password" id="pwd" name="pwd" class="field-input">
        </div>
		<br />
		<button type="submit" form="formLogin" class="btn-si btn-github">Se connecter </button><i class="fa fa-spinner fa-spin fa-2x fa-fw" style="color: #2191ea;"></i>
		</form>
        <script>
            jQuery(function($) {
                //  Au focus
                $('.field-input').focus(function() {
                    $(this).parent().addClass('is-focused has-label');
                });

                // Ã  la perte du focus
                $('.field-input').blur(function() {
                    $parent = $(this).parent();
                    if ($(this).val() == '') {
                        $parent.removeClass('has-label');
                    }
                    $parent.removeClass('is-focused');
                });

                // si un champs est rempli on rajoute directement la class has-label
                $('.field-input').each(function() {
                    if ($(this).val() != '') {
                        $(this).parent().addClass('has-label');
                    }
                });

            })

        </script>
    </div>


{% endblock %}
